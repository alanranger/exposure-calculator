<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outdoor Photography Exposure Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen bg-gray-50">
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center">
                <div class="mr-4">
                    <img src="logo.png" alt="Alan Ranger Photography" width="60" height="60" class="rounded-full">
                </div>
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">Outdoor Photography Exposure Calculator</h1>
                    <p class="text-gray-600">
                        Visualise and calculate exposure settings for your outdoor photography.
                        <br>
                        <span class="text-xs text-gray-500">
                            For educational purposes only - real life light and situations may vary
                        </span>
                    </p>
                </div>
            </div>
            <div class="text-right">
                <div class="text-sm font-semibold text-green-600">Version 1.1s</div>
                <div class="text-xs text-gray-500" id="current-date">April 3, 2025</div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Left Column - Scene Settings and Exposure Controls -->
            <div class="space-y-6">
                <!-- Scene Settings -->
                <div class="bg-white rounded-lg shadow-sm">
                    <div class="p-6">
                        <h2 class="text-xl font-bold mb-4">Scene Settings</h2>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Scene Type</label>
                                <div class="relative">
                                    <select id="scene-type" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                                        <option value="landscape">Landscape</option>
                                        <option value="cityscape">Cityscape</option>
                                        <option value="forest">Forest</option>
                                        <option value="portrait">Portrait</option>
                                        <option value="wildlife">Wildlife</option>
                                        <option value="sports">Sports</option>
                                    </select>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Time of Day</label>
                                <div class="relative">
                                    <select id="time-of-day" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                                        <option value="dawn">Dawn</option>
                                        <option value="sunrise">Sunrise</option>
                                        <option value="midday" selected>Midday</option>
                                        <option value="sunset">Sunset</option>
                                        <option value="dusk">Dusk</option>
                                        <option value="night">Night</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exposure Controls -->
                <div class="bg-white rounded-lg shadow-sm">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Exposure Controls</h2>

                            <div class="exposure-mode-tabs">
                                <div class="tabs-list">
                                    <button class="tab-trigger active" data-mode="aperture">A/AV</button>
                                    <button class="tab-trigger" data-mode="shutter">S/TV</button>
                                    <button class="tab-trigger" data-mode="manual">M</button>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-6">
                            <!-- Aperture Setting -->
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <label id="aperture-label" class="font-medium text-green-600">
                                        Aperture (f-stop/depth of field)
                                    </label>
                                    <div class="flex items-center">
                                        <span id="aperture-value" class="mr-2">f/5.6</span>
                                        <span id="aperture-icon" class="icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                                        </span>
                                    </div>
                                </div>
                                <div id="aperture-ev-indicator" class="ev-stop-indicator"></div>
                                <div class="flex items-center text-xs font-medium text-gray-600 mb-1">
                                    <span>Wide (f/1.4)</span>
                                    <div class="flex-1"></div>
                                    <span>Narrow (f/32)</span>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="aperture-slider" min="0" max="27" value="12" class="slider">
                                </div>
                                <div id="aperture-tips" class="mt-3 p-3 bg-gray-100 border-l-4 border-blue-500 rounded-md">
                                    <!-- Photography tips will be inserted here -->
                                </div>
                            </div>

                            <!-- Shutter Speed Setting -->
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <label id="shutter-label" class="font-medium text-red-500">
                                        Shutter Speed (movement)
                                    </label>
                                    <div class="flex items-center">
                                        <span id="shutter-value" class="mr-2">1/2000s</span>
                                        <span id="shutter-icon" class="icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500"><path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z"></path><path d="M12 1v2"></path><path d="M12 21v2"></path><path d="M4.22 4.22l1.42 1.42"></path><path d="M18.36 18.36l1.42 1.42"></path><path d="M1 12h2"></path><path d="M21 12h2"></path><path d="M4.22 19.78l1.42-1.42"></path><path d="M18.36 5.64l1.42-1.42"></path></svg>
                                        </span>
                                    </div>
                                </div>
                                <div id="shutter-ev-indicator" class="ev-stop-indicator"></div>
                                <div class="flex items-center text-xs font-medium text-gray-600 mb-1">
                                    <span>Slow (30") - Blur Motion</span>
                                    <div class="flex-1"></div>
                                    <span>Fast (1/8000) - Freeze Motion</span>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="shutter-slider" min="0" max="54" value="48" class="slider">
                                </div>
                                <div id="shutter-tips" class="mt-3 p-3 bg-gray-100 border-l-4 border-green-500 rounded-md">
                                    <!-- Photography tips will be inserted here -->
                                </div>
                            </div>

                            <!-- ISO Setting -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center">
                                    <label id="iso-label" class="font-medium text-orange-500">
                                        ISO (grain/exposure time)
                                    </label>
                                    <div class="flex items-center gap-2">
                                        <span id="iso-value" class="text-orange-500">100</span>
                                        <div class="flex items-center space-x-2">
                                            <label class="switch">
                                                <input type="checkbox" id="auto-iso">
                                                <span class="slider round"></span>
                                            </label>
                                            <label for="auto-iso" class="text-xs">Auto</label>
                                        </div>
                                    </div>
                                </div>
                                <div id="iso-ev-indicator" class="ev-stop-indicator"></div>
                                <div class="flex items-center text-xs font-medium text-gray-600 mb-1">
                                    <span>
                                        Low (50) / Low Noise<br>
                                        Slower Shutter Speed
                                    </span>
                                    <div class="flex-1"></div>
                                    <span>
                                        High (102400) / High Noise<br>
                                        Faster Shutter Speed
                                    </span>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="iso-slider" min="0" max="33" value="3" class="slider">
                                </div>
                                <div id="iso-tips" class="mt-3 p-3 bg-gray-100 border-l-4 border-amber-500 rounded-md">
                                    <!-- Photography tips will be inserted here -->
                                </div>
                                <div id="auto-iso-info" class="mt-2 text-xs text-red-600 hidden">
                                    Auto ISO: Maintaining minimum shutter speed of 1/60s
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Scene Preview and Exposure Information -->
            <div class="md:col-span-2 space-y-6">
                <!-- Scene Preview -->
                <div class="bg-white rounded-lg shadow-sm">
                    <div class="p-6">
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <h3 class="text-lg font-medium">Scene Preview</h3>
                                <div class="preview-mode-tabs">
                                    <div class="tabs-list">
                                        <button class="tab-trigger active" data-mode="normal">Normal</button>
                                        <button class="tab-trigger" data-mode="dof">Depth of Field</button>
                                        <button class="tab-trigger" data-mode="motion">Motion</button>
                                    </div>
                                </div>
                            </div>

                            <div class="relative aspect-video bg-gray-200 rounded-lg overflow-hidden">
                                <div id="scene-loading" class="absolute inset-0 flex items-center justify-center">
                                    <p class="text-gray-500">Loading image...</p>
                                </div>
                                <div id="scene-error" class="absolute inset-0 flex items-center justify-center hidden">
                                    <p class="text-gray-500">Image not available</p>
                                </div>
                                
                                <!-- Base image -->
                                <img id="scene-image" src="/placeholder.svg" alt="Scene preview" class="object-cover w-full h-full">
                                
                                <!-- Depth of Field Visualization Overlay -->
                                <div id="dof-overlay" class="absolute inset-0 hidden">
                                    <!-- Visual representation of depth of field -->
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <div class="relative w-full h-full">
                                            <!-- Depth of field zone -->
                                            <div class="absolute inset-0 flex flex-col items-center justify-center">
                                                <!-- Foreground label -->
                                                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm font-medium bg-black/50 px-2 py-1 rounded">
                                                    Foreground
                                                </div>

                                                <!-- Background label -->
                                                <div class="absolute top-4 left-1/2 transform -translate-x-1/2 text-white text-sm font-medium bg-black/50 px-2 py-1 rounded">
                                                    Background
                                                </div>

                                                <!-- In-focus zone - vertical orientation -->
                                                <div id="dof-zone" class="absolute left-1/2 transform -translate-x-1/2 border-2 border-red-500/80 w-1/3 h-1/4">
                                                    <div class="absolute inset-0 flex items-center justify-center text-white text-sm font-medium bg-red-500/20">
                                                        In Focus
                                                    </div>
                                                </div>

                                                <!-- Simple explanation text -->
                                                <div class="absolute top-16 right-4 bg-black/70 text-white p-2 rounded text-sm max-w-xs">
                                                    <p>The red area shows what's in focus from foreground to background.</p>
                                                    <p class="mt-1" id="dof-explanation">
                                                        Small f-number = shallow focus (subject sharp, background blurred)
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Aperture indicator -->
                                    <div id="dof-indicator" class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm">
                                        f/5.6 - Medium DoF
                                    </div>
                                </div>

                                <!-- Motion Visualization Overlay -->
                                <div id="motion-overlay" class="absolute inset-0 hidden">
                                    <!-- Visual representation of motion blur -->
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <div class="relative w-full h-full">
                                            <!-- Motion lines overlay -->
                                            <div class="absolute inset-0 flex items-center justify-center">
                                                <svg id="motion-lines" class="absolute w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
                                                    <!-- Motion lines will be added dynamically -->
                                                </svg>
                                            </div>

                                            <!-- Simple explanation text -->
                                            <div class="absolute top-16 right-4 bg-black/70 text-white p-2 rounded text-sm max-w-xs">
                                                <p>The red lines represent motion blur in your image.</p>
                                                <p class="mt-1" id="motion-explanation">
                                                    Medium shutter = some motion blur
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Shutter speed indicator -->
                                    <div id="motion-indicator" class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm">
                                        1/2000s - Frozen Motion
                                    </div>
                                </div>

                                <!-- Exposure indicator -->
                                <div id="exposure-indicator" class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-2 text-sm hidden">
                                    Underexposed by 0.0 stops
                                </div>
                            </div>

                            <div class="text-sm text-gray-600">
                                <p>
                                    <strong>Scene:</strong> <span id="scene-description">Landscape at Midday</span>
                                </p>

                                <div id="dof-info" class="mt-2 p-3 bg-gray-100 rounded-md hidden">
                                    <p class="font-medium">Depth of Field Effect:</p>
                                    <p class="mt-1">
                                        <strong>Lower f-numbers (f/1.4, f/2.8):</strong> Create shallow depth of field with a sharp subject and
                                        blurred background. Ideal for portraits and isolating subjects.
                                    </p>
                                    <p class="mt-1">
                                        <strong>Higher f-numbers (f/11, f/16):</strong> Create deep depth of field where everything from
                                        foreground to background is in focus. Ideal for landscapes and architecture.
                                    </p>
                                    <p class="mt-1" id="dof-current-setting">
                                        Your current setting: <strong>f/5.6</strong> - Medium depth of field
                                    </p>
                                </div>

                                <div id="motion-info" class="mt-2 p-3 bg-gray-100 rounded-md hidden">
                                    <p class="font-medium">Motion Effect:</p>
                                    <p class="mt-1">
                                        <strong>Slower shutter speeds (1/15s or slower):</strong> Show motion blur for moving subjects. Great for
                                        creative effects like flowing water or light trails.
                                    </p>
                                    <p class="mt-1">
                                        <strong>Faster shutter speeds (1/500s or faster):</strong> "Freeze" motion with no blur. Ideal for sports,
                                        wildlife, and capturing split-second moments.
                                    </p>
                                    <p class="mt-1" id="motion-current-setting">
                                        Your current setting: <strong>1/2000s</strong> - Frozen motion
                                    </p>
                                </div>
                            </div>

                            <!-- Exposure Slider Visualization -->
                            <div id="exposure-slider-visualization" class="mb-4 bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="text-sm font-medium mb-3">Exposure Adjustments (from Reference Settings)</h3>

                                <div class="space-y-4">
                                    <div class="flex items-center">
                                        <div class="w-24 text-sm font-medium">Aperture:</div>
                                        <div class="flex-1 h-2 bg-gray-200 rounded-full relative">
                                            <div class="absolute h-full w-0.5 bg-gray-400 left-1/2 transform -translate-x-1/2"></div>
                                            <div id="aperture-slider-dot" class="absolute h-4 w-4 top-1/2 transform -translate-y-1/2 rounded-full bg-green-500" style="left: 50%"></div>
                                        </div>
                                        <div id="aperture-ev-display" class="ml-2 text-sm font-medium text-gray-500">0.0 EV</div>
                                    </div>

                                    <div class="flex items-center">
                                        <div class="w-24 text-sm font-medium">Shutter:</div>
                                        <div class="flex-1 h-2 bg-gray-200 rounded-full relative">
                                            <div class="absolute h-full w-0.5 bg-gray-400 left-1/2 transform -translate-x-1/2"></div>
                                            <div id="shutter-slider-dot" class="absolute h-4 w-4 top-1/2 transform -translate-y-1/2 rounded-full bg-red-500" style="left: 50%"></div>
                                        </div>
                                        <div id="shutter-ev-display" class="ml-2 text-sm font-medium text-gray-500">0.0 EV</div>
                                    </div>

                                    <div class="flex items-center">
                                        <div class="w-24 text-sm font-medium">ISO:</div>
                                        <div class="flex-1 h-2 bg-gray-200 rounded-full relative">
                                            <div class="absolute h-full w-0.5 bg-gray-400 left-1/2 transform -translate-x-1/2"></div>
                                            <div id="iso-slider-dot" class="absolute h-4 w-4 top-1/2 transform -translate-y-1/2 rounded-full bg-orange-500" style="left: 50%"></div>
                                        </div>
                                        <div id="iso-ev-display" class="ml-2 text-sm font-medium text-gray-500">0.0 EV</div>
                                    </div>
                                </div>

                                <div id="exposure-mode-explanation" class="mt-3 text-xs text-gray-500">
                                    <p>
                                        In Aperture Priority mode, changing aperture or ISO will automatically adjust shutter speed to maintain
                                        exposure.
                                    </p>
                                </div>

                                <div class="mt-4 pt-3 border-t border-gray-200">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm font-medium">Total Exposure Adjustment:</span>
                                        <span id="total-exposure-adjustment" class="text-sm font-bold text-gray-500">0.0 EV</span>
                                    </div>
                                    <div id="exposure-adjustment-description" class="text-xs text-gray-500 mt-1">
                                        Correct exposure
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exposure Meter -->
                <div class="mt-4">
                    <h3 class="text-sm font-medium mb-1">Exposure Meter</h3>
                    <div class="h-12 bg-gray-200 rounded-md relative">
                        <!-- Meter scale -->
                        <div class="absolute inset-0 flex items-center justify-between px-2">
                            <span class="text-xs">-6</span>
                            <span class="text-xs">-5</span>
                            <span class="text-xs">-4</span>
                            <span class="text-xs">-3</span>
                            <span class="text-xs">-2</span>
                            <span class="text-xs">-1</span>
                            <span class="text-xs">0</span>
                            <span class="text-xs">+1</span>
                            <span class="text-xs">+2</span>
                            <span class="text-xs">+3</span>
                            <span class="text-xs">+4</span>
                            <span class="text-xs">+5</span>
                            <span class="text-xs">+6</span>
                        </div>

                        <!-- Center mark -->
                        <div class="absolute left-1/2 top-0 bottom-0 w-0.5 bg-gray-400"></div>

                        <!-- Needle -->
                        <div id="exposure-meter-needle" class="absolute top-0 bottom-0 w-2 bg-red-600 border border-white shadow-md transition-all duration-300" style="left: 50%; transform: translateX(-50%)"></div>

                        <!-- Correct exposure indicator -->
                        <div class="absolute left-1/2 transform -translate-x-1/2 -bottom-6 text-sm">
                            <span id="exposure-meter-status" class="text-green-600 font-medium">Correct Exposure</span>
                        </div>
                    </div>
                </div>

                <!-- Histogram -->
                <div class="mt-4">
                    <h3 class="text-sm font-medium mb-1">Histogram</h3>
                    <div class="h-32 bg-gray-100 border border-gray-300 rounded-md p-2 flex" id="histogram-container">
                        <!-- Histogram bars will be inserted here -->
                    </div>
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span class="text-blue-700 font-medium">Shadows (Underexposed)</span>
                        <span>Mid-tones</span>
                        <span class="text-red-700 font-medium">Highlights (Overexposed)</span>
                    </div>
                </div>

                <!-- Exposure Tips -->
                <div class="mt-4" id="exposure-tips-container">
                    <div id="exposure-tips-correct" class="p-3 bg-gray-100 border-l-4 border-green-500 rounded-md">
                        <p class="font-medium text-green-700">Correct Exposure</p>
                        <p class="text-gray-700">Your current settings provide a well-balanced exposure for this scene.</p>
                    </div>
                    
                    <div id="exposure-tips-incorrect" class="p-3 bg-gray-100 border-l-4 border-blue-500 rounded-md hidden">
                        <p class="font-medium text-gray-800" id="exposure-tips-title">Underexposed by 0.0 stops</p>
                        <p class="text-gray-700 mb-2" id="exposure-tips-description">
                            Your image is too dark. Consider these adjustments:
                        </p>
                        <ul class="list-disc list-inside text-gray-700 space-y-1" id="exposure-tips-suggestions">
                            <!-- Suggestions will be inserted here -->
                        </ul>
                    </div>
                    
                    <div id="exposure-tips-bulb" class="p-3 bg-yellow-100 border-l-4 border-yellow-500 rounded-md hidden">
                        <p class="font-medium text-yellow-800">Bulb Mode Required: Exposure time longer than 30 seconds</p>
                        <p class="text-yellow-700 mb-2">
                            Recommended exposure time: <span id="bulb-exposure-time" class="text-red-600 font-bold">30s+</span>
                        </p>
                        <p class="text-yellow-800 mb-2">
                            <strong>Important:</strong> A sturdy tripod is essential for bulb mode exposures to prevent camera shake. Use
                            a remote shutter release or timer to avoid touching the camera during exposure.
                        </p>
                        <p class="text-yellow-700">Consider these adjustments to avoid bulb mode:</p>
                        <ul class="list-disc list-inside text-yellow-700 space-y-1 mt-1">
                            <li>Increase ISO (will introduce more noise)</li>
                            <li>Use a wider aperture (lower f-number)</li>
                            <li>Add additional lighting to the scene if possible</li>
                        </ul>
                    </div>
                </div>

                <!-- Exposure Triangle Guide Button -->
                <div class="mt-4">
                    <button id="triangle-guide-toggle" class="flex items-center text-blue-600 hover:text-blue-800 font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 mr-1"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        Show Exposure Triangle Guide
                    </button>

                    <div id="triangle-guide-container" class="mt-4 hidden">
                        <!-- Exposure Triangle Guide will be inserted here -->
                        <div class="bg-white p-4 rounded-lg border border-gray-200">
                            <h3 class="text-lg font-medium mb-3">Exposure Triangle Guide</h3>
                            
                            <div class="exposure-guide-tabs">
                                <div class="tabs-list mb-4">
                                    <button class="tab-trigger active" data-tab="dof">Depth of Field</button>
                                    <button class="tab-trigger" data-tab="motion">Motion</button>
                                    <button class="tab-trigger" data-tab="exposure">Exposure Triangle</button>
                                </div>
                                
                                <div class="tab-content" id="dof-tab">
                                    <div class="flex flex-col md:flex-row gap-4">
                                        <div class="flex-1">
                                            <h4 class="font-medium mb-2">What is Depth of Field?</h4>
                                            <p class="text-sm text-gray-700">
                                                Depth of field (DoF) is the distance between the nearest and the farthest objects that are in acceptably
                                                sharp focus in an image. It's controlled primarily by your aperture setting (f-number).
                                            </p>

                                            <div class="mt-4">
                                                <h5 class="font-medium text-sm mb-1">Aperture Effects:</h5>
                                                <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                                                    <li>
                                                        <strong>Wide aperture (small f-number like f/1.4, f/2.8):</strong>
                                                        <ul class="list-disc list-inside ml-4 mt-1">
                                                            <li>Creates shallow depth of field</li>
                                                            <li>Subject is sharp, background is blurred</li>
                                                            <li>Great for portraits, isolating subjects</li>
                                                            <li>Creates pleasing background blur (bokeh)</li>
                                                        </ul>
                                                    </li>
                                                    <li>
                                                        <strong>Narrow aperture (large f-number like f/11, f/16):</strong>
                                                        <ul class="list-disc list-inside ml-4 mt-1">
                                                            <li>Creates deep depth of field</li>
                                                            <li>Everything from foreground to background is sharp</li>
                                                            <li>Ideal for landscapes, architecture</li>
                                                            <li>Requires more light or slower shutter speed</li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                        <div class="md:w-1/3">
                                            <div class="bg-gray-100 p-3 rounded-md">
                                                <h4 class="font-medium text-sm mb-2 text-center">Depth of Field Visualization</h4>
                                                <div class="relative h-40 bg-gray-200 mb-2 rounded overflow-hidden">
                                                    <!-- Actual DoF diagram -->
                                                    <svg viewBox="0 0 300 200" class="w-full h-full">
                                                        <!-- Camera -->
                                                        <rect x="10" y="85" width="40" height="30" fill="#333" />
                                                        <circle cx="50" cy="100" r="15" fill="#555" stroke="#333" stroke-width="2" />

                                                        <!-- Focus plane -->
                                                        <line x1="150" y1="30" x2="150" y2="170" stroke="#22c55e" stroke-width="2" stroke-dasharray="5,5" />
                                                        <text x="155" y="100" font-size="12" fill="#22c55e" font-weight="bold">
                                                            Focus Plane
                                                        </text>

                                                        <!-- DoF zones -->
                                                        <!-- Shallow DoF -->
                                                        <g opacity="0.7">
                                                            <rect
                                                                x="130"
                                                                y="40"
                                                                width="40"
                                                                height="120"
                                                                fill="#22c55e"
                                                                fill-opacity="0.2"
                                                                stroke="#22c55e"
                                                                stroke-width="1"
                                                            />
                                                            <text x="135" y="35" font-size="10" fill="#22c55e">
                                                                Shallow DoF
                                                            </text>
                                                        </g>

                                                        <!-- Medium DoF -->
                                                        <g opacity="0.5">
                                                            <rect
                                                                x="100"
                                                                y="40"
                                                                width="100"
                                                                height="120"
                                                                fill="#3b82f6"
                                                                fill-opacity="0.1"
                                                                stroke="#3b82f6"
                                                                stroke-width="1"
                                                            />
                                                            <text x="105" y="25" font-size="10" fill="#3b82f6">
                                                                Medium DoF
                                                            </text>
                                                        </g>

                                                        <!-- Deep DoF -->
                                                        <g opacity="0.3">
                                                            <rect
                                                                x="70"
                                                                y="40"
                                                                width="160"
                                                                height="120"
                                                                fill="#6366f1"
                                                                fill-opacity="0.1"
                                                                stroke="#6366f1"
                                                                stroke-width="1"
                                                            />
                                                            <text x="75" y="15" font-size="10" fill="#6366f1">
                                                                Deep DoF
                                                            </text>
                                                        </g>

                                                        <!-- Subject -->
                                                        <circle cx="150" cy="100" r="10" fill="#ef4444" />
                                                        <text x="150" y="85" font-size="10" text-anchor="middle" fill="#000">
                                                            Subject
                                                        </text>

                                                        <!-- Background elements -->
                                                        <circle cx="220" cy="70" r="8" fill="#888" />
                                                        <circle cx="240" cy="110" r="12" fill="#777" />
                                                        <circle cx="200" cy="130" r="10" fill="#999" />
                                                        <text x="220" y="50" font-size="10" fill="#000">
                                                            Background
                                                        </text>

                                                        <!-- Foreground elements -->
                                                        <circle cx="100" cy="120" r="7" fill="#aaa" />
                                                        <circle cx="80" cy="90" r="9" fill="#bbb" />
                                                        <text x="80" y="70" font-size="10" fill="#000">
                                                            Foreground
                                                        </text>
                                                    </svg>
                                                </div>
                                                <div class="flex justify-between text-xs text-gray-600">
                                                    <span>f/1.4 (Shallow)</span>
                                                    <span>f/16 (Deep)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="tab-content hidden" id="motion-tab">
                                    <div class="flex flex-col md:flex-row gap-4">
                                        <div class="flex-1">
                                            <h4 class="font-medium mb-2">Capturing Motion</h4>
                                            <p class="text-sm text-gray-700">
                                                Shutter speed determines how motion is captured in your image. Fast shutter speeds freeze action, while
                                                slow shutter speeds create motion blur.
                                            </p>

                                            <div class="mt-4">
                                                <h5 class="font-medium text-sm mb-1">Shutter Speed Effects:</h5>
                                                <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                                                    <li>
                                                        <strong>Fast shutter speed (1/500s or faster):</strong>
                                                        <ul class="list-disc list-inside ml-4 mt-1">
                                                            <li>Freezes motion completely</li>
                                                            <li>Captures split-second moments</li>
                                                            <li>Great for sports, wildlife, action</li>
                                                            <li>Requires good lighting or higher ISO</li>
                                                        </ul>
                                                    </li>
                                                    <li>
                                                        <strong>Slow shutter speed (1/30s or slower):</strong>
                                                        <ul class="list-disc list-inside ml-4 mt-1">
                                                            <li>Creates motion blur</li>
                                                            <li>Conveys a sense of movement</li>
                                                            <li>Great for waterfalls, light trails, creative effects</li>
                                                            <li>Usually requires a tripod to avoid camera shake</li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                        <div class="md:w-1/3">
                                            <div class="bg-gray-100 p-3 rounded-md">
                                                <h4 class="font-medium text-sm mb-2 text-center">Motion Visualization</h4>
                                                <div class="relative h-40 bg-gray-200 mb-2 rounded overflow-hidden">
                                                    <!-- Actual Motion diagram -->
                                                    <svg viewBox="0 0 300 200" class="w-full h-full">
                                                        <!-- Background -->
                                                        <rect x="0" y="0" width="300" height="200" fill="#f3f4f6" />

                                                        <!-- Fast shutter - frozen motion -->
                                                        <g transform="translate(50, 50)">
                                                            <circle cx="0" cy="0" r="15" fill="#ef4444" />
                                                            <text x="0" y="-25" font-size="10" text-anchor="middle" fill="#000">
                                                                Fast Shutter
                                                            </text>
                                                            <text x="0" y="-15" font-size="10" text-anchor="middle" fill="#000">
                                                                1/1000s
                                                            </text>
                                                            <text x="0" y="5" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                                FROZEN
                                                            </text>
                                                        </g>

                                                        <!-- Medium shutter - slight blur -->
                                                        <g transform="translate(150, 50)">
                                                            <circle cx="0" cy="0" r="15" fill="#f97316" />
                                                            <ellipse
                                                                cx="0"
                                                                cy="0"
                                                                rx="15"
                                                                ry="15"
                                                                fill="none"
                                                                stroke="#f97316"
                                                                stroke-width="1"
                                                                stroke-dasharray="2,2"
                                                            />
                                                            <ellipse
                                                                cx="-5"
                                                                cy="0"
                                                                rx="15"
                                                                ry="15"
                                                                fill="none"
                                                                stroke="#f97316"
                                                                stroke-width="1"
                                                                stroke-dasharray="2,2"
                                                            />
                                                            <ellipse
                                                                cx="-10"
                                                                cy="0"
                                                                rx="15"
                                                                ry="15"
                                                                fill="none"
                                                                stroke="#f97316"
                                                                stroke-width="1"
                                                                stroke-dasharray="2,2"
                                                            />
                                                            <text x="0" y="-25" font-size="10" text-anchor="middle" fill="#000">
                                                                Medium Shutter
                                                            </text>
                                                            <text x="0" y="-15" font-size="10" text-anchor="middle" fill="#000">
                                                                1/125s
                                                            </text>
                                                            <text x="0" y="5" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                                SLIGHT
                                                            </text>
                                                        </g>

                                                        <!-- Slow shutter - motion blur -->
                                                        <g transform="translate(250, 50)">
                                                            <circle cx="0" cy="0" r="15" fill="#3b82f6" fill-opacity="0.7" />
                                                            <ellipse cx="-10" cy="0" rx="15" ry="15" fill="#3b82f6" fill-opacity="0.5" />
                                                            <ellipse cx="-20" cy="0" rx="15" ry="15" fill="#3b82f6" fill-opacity="0.3" />
                                                            <ellipse cx="-30" cy="0" rx="15" ry="15" fill="#3b82f6" fill-opacity="0.2" />
                                                            <ellipse cx="-40" cy="0" rx="15" ry="15" fill="#3b82f6" fill-opacity="0.1" />
                                                            <text x="0" y="-25" font-size="10" text-anchor="middle" fill="#000">
                                                                Slow Shutter
                                                            </text>
                                                            <text x="0" y="-15" font-size="10" text-anchor="middle" fill="#000">
                                                                1/15s
                                                            </text>
                                                            <text x="0" y="5" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                                BLUR
                                                            </text>
                                                        </g>

                                                        <!-- Very slow shutter - creative blur -->
                                                        <g transform="translate(150, 150)">
                                                            <circle cx="0" cy="0" r="15" fill="#8b5cf6" fill-opacity="0.7" />
                                                            <path
                                                                d="M-60,0 C-40,20 -20,-20 0,0"
                                                                stroke="#8b5cf6"
                                                                stroke-width="30"
                                                                stroke-opacity="0.2"
                                                                fill="none"
                                                            />
                                                            <text x="0" y="-25" font-size="10" text-anchor="middle" fill="#000">
                                                                Very Slow Shutter
                                                            </text>
                                                            <text x="0" y="-15" font-size="10" text-anchor="middle" fill="#000">
                                                                1s+
                                                            </text>
                                                            <text x="0" y="5" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                                CREATIVE
                                                            </text>
                                                        </g>

                                                        <!-- Arrow showing progression -->
                                                        <path d="M50,100 L250,100" stroke="#000" stroke-width="1" marker-end="url(#arrow)" />
                                                        <text x="150" y="115" font-size="10" text-anchor="middle" fill="#000">
                                                            Slower Shutter = More Blur
                                                        </text>

                                                        <!-- Arrow marker definition -->
                                                        <defs>
                                                            <marker
                                                                id="arrow"
                                                                markerWidth="10"
                                                                markerHeight="10"
                                                                refX="9"
                                                                refY="3"
                                                                orient="auto"
                                                                markerUnits="strokeWidth"
                                                            >
                                                                <path d="M0,0 L0,6 L9,3 z" fill="#000" />
                                                            </marker>
                                                        </defs>
                                                    </svg>
                                                </div>
                                                <div class="flex justify-between text-xs text-gray-600">
                                                    <span>1/1000s (Freeze)</span>
                                                    <span>1s+ (Blur)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="tab-content hidden" id="exposure-tab">
                                    <div class="flex flex-col md:flex-row gap-4">
                                        <div class="flex-1">
                                            <h4 class="font-medium mb-2">Understanding the Exposure Triangle</h4>
                                            <p class="text-sm text-gray-700">
                                                Exposure is determined by three factors: aperture, shutter speed, and ISO. Together, they form the
                                                "exposure triangle."
                                            </p>

                                            <div class="mt-4">
                                                <h5 class="font-medium text-sm mb-1">The Exposure Triangle:</h5>
                                                <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                                                    <li>
                                                        <strong>Aperture (f-stop):</strong> Controls depth of field and amount of light
                                                    </li>
                                                    <li>
                                                        <strong>Shutter Speed:</strong> Controls motion blur and amount of light
                                                    </li>
                                                    <li>
                                                        <strong>ISO:</strong> Controls sensitivity and noise level
                                                    </li>
                                                </ul>

                                                <p class="mt-3 text-sm text-gray-700">
                                                    When you change one setting, you typically need to adjust another to maintain the same exposure. For
                                                    example, if you make the aperture smaller (higher f-number), you'll need to use a slower shutter speed
                                                    or higher ISO to compensate.
                                                </p>

                                                <div class="mt-4">
                                                    <h5 class="font-medium text-sm mb-1">Your Current Settings:</h5>
                                                    <p class="text-sm text-gray-700" id="current-settings-description">
                                                        Your current settings (f/5.6, 1/2000s, ISO 100) can be balanced in different ways.
                                                    </p>

                                                    <div class="mt-2">
                                                        <p class="text-sm font-medium text-gray-700">Equivalent Exposures:</p>
                                                        <p class="text-xs text-gray-700 mt-1">
                                                            These settings would give the same exposure but with different creative effects:
                                                        </p>
                                                        <ul class="list-disc list-inside text-xs text-gray-700 mt-1 space-y-1" id="equivalent-settings">
                                                            <li>f/8, 1/1000s, ISO 100</li>
                                                            <li>f/5.6, 1/500s, ISO 25</li>
                                                            <li>f/4, 1/2000s, ISO 50</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="md:w-1/3">
                                            <div class="bg-gray-100 p-3 rounded-md">
                                                <h4 class="font-medium text-sm mb-2 text-center">Exposure Triangle</h4>
                                                <div class="relative h-40 bg-gray-200 mb-2 rounded overflow-hidden">
                                                    <!-- Actual Exposure Triangle diagram -->
                                                    <svg viewBox="0 0 300 200" class="w-full h-full">
                                                        <!-- Background -->
                                                        <rect x="0" y="0" width="300" height="200" fill="#f3f4f6" />

                                                        <!-- Triangle -->
                                                        <polygon points="150,20 50,160 250,160" fill="none" stroke="#000" stroke-width="2" />

                                                        <!-- Aperture corner -->
                                                        <circle cx="150" cy="20" r="15" fill="#22c55e" />
                                                        <text x="150" y="25" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                            f/
                                                        </text>
                                                        <text x="150" y="5" font-size="10" text-anchor="middle" fill="#000">
                                                            Aperture
                                                        </text>

                                                        <!-- Shutter corner -->
                                                        <circle cx="50" cy="160" r="15" fill="#ef4444" />
                                                        <text x="50" y="165" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                            S
                                                        </text>
                                                        <text x="50" y="185" font-size="10" text-anchor="middle" fill="#000">
                                                            Shutter
                                                        </text>

                                                        <!-- ISO corner -->
                                                        <circle cx="250" cy="160" r="15" fill="#3b82f6" />
                                                        <text x="250" y="165" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">
                                                            ISO
                                                        </text>
                                                        <text x="250" y="185" font-size="10" text-anchor="middle" fill="#000">
                                                            Sensitivity
                                                        </text>

                                                        <!-- Center - Exposure -->
                                                        <circle cx="150" cy="110" r="20" fill="#f97316" />
                                                        <text x="150" y="110" font-size="10" text-anchor="middle" fill="#fff">
                                                            Correct
                                                        </text>
                                                        <text x="150" y="120" font-size="10" text-anchor="middle" fill="#fff">
                                                            Exposure
                                                        </text>

                                                        <!-- Connecting lines with labels -->
                                                        <line x1="150" y1="35" x2="150" y2="90" stroke="#22c55e" stroke-width="1" stroke-dasharray="3,3" />
                                                        <text x="170" y="65" font-size="8" fill="#22c55e">
                                                            Depth of Field
                                                        </text>

                                                        <line x1="65" y1="145" x2="130" y2="110" stroke="#ef4444" stroke-width="1" stroke-dasharray="3,3" />
                                                        <text x="80" y="135" font-size="8" fill="#ef4444">
                                                            Motion
                                                        </text>

                                                        <line x1="235" y1="145" x2="170" y2="110" stroke="#3b82f6" stroke-width="1" stroke-dasharray="3,3" />
                                                        <text x="215" y="135" font-size="8" fill="#3b82f6">
                                                            Noise
                                                        </text>
                                                    </svg>
                                                </div>
                                                <div class="text-xs text-gray-600 text-center">
                                                    <span>Balancing aperture, shutter speed, and ISO for correct exposure</span>
                                                </div>
                                            </div>

                                            <div class="mt-4 bg-blue-50 p-3 rounded-md">
                                                <p class="text-xs text-blue-700">
                                                    <strong>Remember:</strong> When you change one setting by 1 stop, adjust another by -1 stop to
                                                    maintain the same exposure.
                                                </p>
                                                <ul class="list-disc list-inside text-xs text-blue-700 mt-1">
                                                    <li>Aperture: Controls depth of field (f/2.8 = shallow, f/16 = deep)</li>
                                                    <li>Shutter Speed: Controls motion (1/1000s = freeze, 1/15s = blur)</li>
                                                    <li>ISO: Controls sensitivity/noise (ISO 100 = clean, ISO 3200 = noisy)</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- EV Reference Table Button -->
                <div class="mt-4">
                    <button id="ev-table-toggle" class="flex items-center text-blue-600 hover:text-blue-800 font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 mr-1"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        Show EV Reference Table
                    </button>

                    <div id="ev-table-container" class="mt-4 hidden">
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <div class="flex items-start">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 text-blue-500 mr-2 mt-0.5"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                                <div>
                                    <h3 class="font-medium text-blue-800 mb-2">EV Reference Table (f/5.6, ISO 100)</h3>

                                    <div class="overflow-x-auto">
                                        <table class="w-full border-collapse">
                                            <thead>
                                                <tr class="bg-blue-100">
                                                    <th class="border border-blue-200 px-4 py-2 text-left text-blue-800">Time of Day</th>
                                                    <th class="border border-blue-200 px-4 py-2 text-left text-blue-800">EV</th>
                                                    <th class="border border-blue-200 px-4 py-2 text-left text-blue-800">Exposure Time</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="bg-blue-50">
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">Night</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">-12</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">68m 16s</td>
                                                </tr>
                                                <tr class="bg-blue-50">
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">Dawn/Dusk</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">-3</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">8s</td>
                                                </tr>
                                                <tr class="bg-blue-50">
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">Sunrise/Sunset</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">-1</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">2s</td>
                                                </tr>
                                                <tr class="bg-blue-50">
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">Midday</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">12</td>
                                                    <td class="border border-blue-200 px-4 py-2 text-blue-700">1/2000s</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <p class="text-xs text-blue-700 mt-3">
                                        <strong>Note:</strong> These values are calculated for f/5.6 aperture and ISO 100. Adjusting either setting
                                        will change the required exposure time.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Debug Information -->
                <div id="debug-container" class="mt-6 bg-white rounded-lg shadow-sm hidden">
                    <div class="p-6">
                        <h2 class="text-xl font-bold mb-4">Debug Information</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h3 class="text-lg font-semibold mb-2">Scene Settings</h3>
                                <ul class="space-y-1">
                                    <li>
                                        <strong>Scene Type:</strong> <span id="debug-scene-type">landscape</span>
                                    </li>
                                    <li>
                                        <strong>Time of Day:</strong> <span id="debug-time-of-day">midday</span>
                                    </li>
                                    <li>
                                        <strong>Scene EV:</strong> <span id="debug-scene-ev">12</span>
                                    </li>
                                    <li>
                                        <strong>Reference Exposure Time (f/5.6, ISO 100):</strong> <span id="debug-reference-exposure">1/2000s</span>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold mb-2">Camera Settings</h3>
                                <ul class="space-y-1">
                                    <li>
                                        <strong>ISO:</strong> <span id="debug-iso">100</span> <span id="debug-auto-iso">(Auto)</span>
                                    </li>
                                    <li>
                                        <strong>Aperture:</strong> f/<span id="debug-aperture">5.6</span>
                                    </li>
                                    <li>
                                        <strong>Shutter Speed:</strong> <span id="debug-shutter-speed">1/2000s</span>
                                    </li>
                                    <li>
                                        <strong>Required Exposure Time:</strong> <span id="debug-required-exposure">1/2000s</span>
                                    </li>
                                    <li>
                                        <strong>Exposure Mode:</strong> <span id="debug-exposure-mode">Aperture Priority</span>
                                    </li>
                                    <li>
                                        <strong>Calculated EV:</strong> <span id="debug-calculated-ev">12.00</span>
                                    </li>
                                    <li>
                                        <strong>Exposure Difference:</strong> <span id="debug-exposure-difference">0.00</span> stops
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-gray-600">© <span id="current-year">2025</span> Alan Ranger Photography. All rights reserved.</p>
                    <p class="text-gray-500 text-sm mt-1">
                        This calculator is designed to help photographers understand exposure settings.
                    </p>
                </div>
                <div class="flex items-center">
                    <button id="debug-toggle" class="flex items-center text-blue-600 hover:text-blue-800 font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 mr-1"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        Show Debug Info
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>