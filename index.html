<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outdoor Photography Exposure Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Outdoor Photography Exposure Calculator</h1>
            <p class="subtitle">Visualise and calculate exposure settings for your outdoor photography.</p>
            <p class="disclaimer">For educational purposes only - real life light and situations may vary</p>
            <div class="version">Version 1.1s <span id="current-date"></span></div>
        </header>

        <div class="main-content">
            <div class="left-column">
                <section class="scene-settings">
                    <h2>Scene Settings</h2>
                    <div class="form-group">
                        <label for="scene-type">Scene Type</label>
                        <select id="scene-type">
                            <option value="landscape">Landscape</option>
                            <option value="cityscape">Cityscape</option>
                            <option value="portrait">Portrait</option>
                            <option value="wildlife">Wildlife</option>
                            <option value="sports">Sports</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="time-of-day">Time of Day</label>
                        <select id="time-of-day">
                            <option value="dawn">Dawn</option>
                            <option value="sunrise">Sunrise</option>
                            <option value="midday">Midday</option>
                            <option value="sunset">Sunset</option>
                            <option value="dusk">Dusk</option>
                            <option value="night">Night</option>
                        </select>
                    </div>
                </section>

                <section class="exposure-controls">
                    <div class="section-header">
                        <h2>Exposure Controls</h2>
                        <div class="exposure-mode-tabs">
                            <button class="tab-trigger active" data-mode="aperture">A/AV</button>
                            <button class="tab-trigger" data-mode="shutter">S/TV</button>
                            <button class="tab-trigger" data-mode="manual">M</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="setting-header">
                            <label for="aperture-slider">Aperture (f-stop/depth of field)</label>
                            <span id="aperture-value">f/5.6</span>
                        </div>
                        <div class="slider-container">
                            <span class="slider-label">Wide (f/1.4)</span>
                            <input type="range" id="aperture-slider" min="0" max="27" value="12">
                            <span class="slider-label">Narrow (f/32)</span>
                        </div>
                        <p id="aperture-tips" class="setting-tips"></p>
                    </div>

                    <div class="form-group">
                        <div class="setting-header">
                            <label for="shutter-slider">Shutter Speed (movement)</label>
                            <span id="shutter-value">1/2000s</span>
                        </div>
                        <div class="slider-container">
                            <span class="slider-label">Slow (30") - Blur Motion</span>
                            <input type="range" id="shutter-slider" min="0" max="54" value="48">
                            <span class="slider-label">Fast (1/8000s) - Freeze Motion</span>
                        </div>
                        <p id="shutter-tips" class="setting-tips"></p>
                    </div>

                    <div class="form-group">
                        <div class="setting-header">
                            <label for="iso-slider">
                                ISO (grain/exposure time)
                                <span class="auto-iso-container">
                                    <input type="checkbox" id="auto-iso">
                                    <label for="auto-iso" class="auto-iso-label">Auto</label>
                                </span>
                            </label>
                            <span id="iso-value">100</span>
                        </div>
                        <div class="slider-container">
                            <span class="slider-label">Low (50) - Low Noise</span>
                            <input type="range" id="iso-slider" min="0" max="33" value="3">
                            <span class="slider-label">High (102400) - High Noise</span>
                        </div>
                        <p id="iso-tips" class="setting-tips"></p>
                        <p id="auto-iso-info" class="auto-iso-info hidden"></p>
                    </div>
                </section>
            </div>

            <div class="right-column">
                <section class="scene-preview">
                    <div class="section-header">
                        <h2>Scene Preview</h2>
                        <div class="preview-mode-tabs">
                            <button class="tab-trigger active" data-mode="normal">Normal</button>
                            <button class="tab-trigger" data-mode="dof">Depth of Field</button>
                            <button class="tab-trigger" data-mode="motion">Motion</button>
                        </div>
                    </div>

                    <div class="scene-image-container">
                        <img id="scene-image" src="/placeholder.svg" alt="Scene preview">
                        <div id="scene-loading" class="scene-loading">Loading...</div>
                        <div id="scene-error" class="scene-error hidden">Image not available</div>
                        <div id="exposure-indicator" class="exposure-indicator hidden"></div>
                        
                        <!-- DOF Overlay -->
                        <div id="dof-overlay" class="preview-overlay hidden">
                            <div id="dof-info" class="preview-info">
                                <div id="dof-zone" class="dof-zone"></div>
                                <div id="dof-indicator" class="preview-indicator"></div>
                                <p id="dof-explanation" class="preview-explanation"></p>
                                <p id="dof-current-setting" class="current-setting"></p>
                            </div>
                        </div>
                        
                        <!-- Motion Overlay -->
                        <div id="motion-overlay" class="preview-overlay hidden">
                            <div id="motion-info" class="preview-info">
                                <svg id="motion-lines" class="motion-lines" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                                <div id="motion-indicator" class="preview-indicator"></div>
                                <p id="motion-explanation" class="preview-explanation"></p>
                                <p id="motion-current-setting" class="current-setting"></p>
                            </div>
                        </div>
                    </div>
                    <p id="scene-description" class="scene-description"></p>
                </section>

                <section class="exposure-meter">
                    <h2>Exposure Meter</h2>
                    <div class="meter-container">
                        <div class="meter-scale">
                            <div class="meter-zone underexposed">Shadows (Underexposed)</div>
                            <div class="meter-zone correct">Correct Exposure</div>
                            <div class="meter-zone overexposed">Highlights (Overexposed)</div>
                        </div>
                        <div id="exposure-meter-needle" class="meter-needle"></div>
                    </div>
                    <p id="exposure-meter-status" class="meter-status"></p>
                </section>

                <section class="histogram-section">
                    <h3>Histogram</h3>
                    <div id="histogram-container" class="histogram-container"></div>
                    <div class="histogram-labels">
                        <span>Shadows (Underexposed)</span>
                        <span>Mid-tones</span>
                        <span>Highlights (Overexposed)</span>
                    </div>
                </section>

                <section class="exposure-tips">
                    <div id="exposure-tips-correct" class="tips-section">
                        <h3>Correct Exposure</h3>
                        <p>Your current settings provide a well-balanced exposure for this scene.</p>
                    </div>
                    
                    <div id="exposure-tips-incorrect" class="tips-section hidden">
                        <h3 id="exposure-tips-title"></h3>
                        <p id="exposure-tips-description"></p>
                        <ul id="exposure-tips-suggestions"></ul>
                    </div>
                    
                    <div id="exposure-tips-bulb" class="tips-section hidden">
                        <h3>Bulb Mode Required</h3>
                        <p>This scene requires a very long exposure. Use Bulb mode with an exposure time of <span id="bulb-exposure-time"></span>.</p>
                        <p>You'll need a tripod and remote shutter release for best results.</p>
                    </div>
                </section>
            </div>
        </div>

        <footer>
            <button id="triangle-guide-toggle" class="toggle-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="toggle-icon"><polyline points="6 9 12 15 18 9"></polyline></svg>
                Show Exposure Triangle Guide
            </button>
            
            <div id="triangle-guide-container" class="guide-container hidden">
                <h3>The Exposure Triangle</h3>
                <div class="exposure-guide-tabs">
                    <button class="tab-trigger active" data-tab="overview">Overview</button>
                    <button class="tab-trigger" data-tab="aperture">Aperture</button>
                    <button class="tab-trigger" data-tab="shutter">Shutter Speed</button>
                    <button class="tab-trigger" data-tab="iso">ISO</button>
                </div>
                
                <div id="overview-tab" class="tab-content">
                    <p>The exposure triangle represents the three elements that determine the exposure of a photograph: aperture, shutter speed, and ISO. Changing one element requires adjusting at least one of the others to maintain the same exposure.</p>
                    <ul>
                        <li><strong>Aperture:</strong> Controls depth of field (how much is in focus)</li>
                        <li><strong>Shutter Speed:</strong> Controls motion blur</li>
                        <li><strong>ISO:</strong> Controls sensitivity (and noise/grain)</li>
                    </ul>
                </div>
                
                <div id="aperture-tab" class="tab-content hidden">
                    <p>Aperture is the opening in the lens that lets light through. It's measured in f-stops (f/2.8, f/4, f/5.6, etc.).</p>
                    <ul>
                        <li><strong>Lower f-number (f/1.4, f/2.8):</strong> Wider aperture, more light, shallow depth of field (background blur)</li>
                        <li><strong>Higher f-number (f/11, f/16):</strong> Narrower aperture, less light, deep depth of field (everything in focus)</li>
                    </ul>
                </div>
                
                <div id="shutter-tab" class="tab-content hidden">
                    <p>Shutter speed is how long the camera's sensor is exposed to light. It's measured in seconds or fractions of a second.</p>
                    <ul>
                        <li><strong>Slow shutter (1/30s or slower):</strong> More light, motion blur</li>
                        <li><strong>Fast shutter (1/250s or faster):</strong> Less light, freezes motion</li>
                    </ul>
                </div>
                
                <div id="iso-tab" class="tab-content hidden">
                    <p>ISO measures the sensitivity of the camera's sensor to light. Higher ISO allows you to shoot in darker conditions but introduces noise.</p>
                    <ul>
                        <li><strong>Low ISO (100-400):</strong> Less sensitive, less noise, better quality</li>
                        <li><strong>High ISO (1600+):</strong> More sensitive, more noise, useful in low light</li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>

